<div class="card card-outline card-primary">
    <div class="card-header">
        <h3 class="card-title mt-2">Room Reservation List</h3>
        <div class="card-tools">
            <div class="form-inline">
                <!-- <label for="" class="mr-1">Filter: </label>
                <select class="form-control mr-5 px-3" name="" id="">
                    <option value="">All</option>
                    <option value="">Today</option>
                    <option value="">Tomorrow</option>
                </select> -->
                <!-- <a href="#" class="btn btn-primary" id="create-room-category">New Reservation</a> -->
            </div>
        </div>
    </div>
    <div class="card-body">
        <div class="container-fluid">
            <div class="container-fluid">
                <table class="table table-bordered table-hover table-striped" id="table-room-reservation">
                    <colgroup>
                        <col width="5%">
                        <col width="17%">
                        <col width="10%">
                        <col width="25%">
                        <col width="20%">
                        <col width="10%">
                        <col width="10%">
                    </colgroup>
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Room</th>
                            <th>Schedule</th>
                            <th>Requested By</th>
                            <th>Contact</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="table-body">

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="modal-view-room-reservation" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title fs-5">Reservation Detail</h3>
                <button type="button" class="btn-close btn btn-default" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <section id="portfolio-details" class="portfolio-details">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="row gy-4">
                                    <div class="col-lg-12">
                                        <div class="portfolio-info">
                                            <h5>Schedule Information</h5>
                                            <hr>
                                            <ul class="list-group list-group-flush">
                                                <li class="list-group-item d-flex justify-content-between align-items-start">
                                                    <div>
                                                        <strong>Reservation ID</strong>:
                                                        <p id="room-reservation-id"></p>
                                                    </div>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-start">
                                                    <div>
                                                        <strong>Check In</strong>:
                                                        <p id="room-checkin-datetime"></p>
                                                    </div>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-start">
                                                    <div>
                                                        <strong>Check Out</strong>:
                                                        <p id="room-checkout-datetime"></p>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="portfolio-info">
                                            <h5>Account Information</h5>
                                            <hr>
                                            <ul class="list-group list-group-flush">
                                                <li class="list-group-item d-flex justify-content-between align-items-start">
                                                    <div>
                                                        <strong>Full Name</strong>:
                                                        <p id="room-checkout-name"></p>
                                                    </div>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-start">
                                                    <div>
                                                        <strong>Address</strong>:
                                                        <p id="room-checkout-address"></p>
                                                    </div>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-start">
                                                    <div>
                                                        <strong>Phone Number</strong>:
                                                        <p id="room-checkout-phone"></p>
                                                    </div>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-start">
                                                    <div>
                                                        <strong>Email</strong>:
                                                        <p id="room-checkout-email"></p>
                                                    </div>
                                                </li>
                                            </ul>

                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="portfolio-info">
                                            <h5>Room Information</h5>
                                            <hr>
                                            <ul class="list-group list-group-flush">
                                                <p id="room-checkout-room-id" class="d-none"></p>
                                                <li class="list-group-item d-flex justify-content-between align-items-start">
                                                    <div>
                                                        <strong>Name</strong>:
                                                        <p id="room-checkout-room-name"></p>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="col-lg-12" id="modal-view-receipt-box">
                                        <div class="portfolio-info">
                                            <h5>Receipt</h5>
                                            <hr>
                                            <a href="" target="_blank" rel="noopener noreferrer" id="modal-view-receipt-box-link"><img src="" alt="" srcset="" id="modal-view-receipt-box-image" style="width: 100%;"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="row gy-4">

                                    <div class="col-lg-12">
                                        <div class="portfolio-info">
                                            <h5>Additional</h5>
                                            <hr>
                                            <ul>
                                                <p id="room-checkout-room-id" class="d-none"></p>
                                                <li><strong>1. Additional Guest</strong>:
                                                    <div class="mt-1" id="room-checkout-room-additional-guest" class="mx-2"></div>
                                                </li>
                                                <li><strong>2. Additional Food</strong>:
                                                    <div class="mt-1" id="room-checkout-room-additional-food" class="mx-2"></div>
                                                </li>
                                                <li><strong>3. Additional Item</strong>:
                                                    <div class="mt-1" id="room-checkout-room-additional-item" class="mx-2"></div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <div class="portfolio-info">
                                            <h3>Total</h3>
                                            <!-- <ul> -->
                                            <!-- <p id="room-checkout-room-id" class="d-none"></p>
                                                <li><strong>Room Price</strong>:
                                                    <span id="room-checkout-room-price"></span> per Day x <span id="room-checkout-total-days"></span> Days = <span id="room-checkout-total-days-price"></span> PHP
                                                </li>
                                                <li><strong>Additional Price</strong>:
                                                    <span id="room-checkout-additional-price"></span>
                                                </li> -->
                                            <!-- <li> -->
                                            <strong>Total Amount:</strong>
                                            <span id="room-checkout-total-amount"></span>
                                            <!-- </li> -->
                                            <!-- </ul> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-update-room-reservation" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title fs-5">Update Room Reservation Detail</h3>
                <button type="button" class="btn-close btn btn-default" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="" id="form-edit-reservation">
                <div class="modal-body">
                    <section id="portfolio-details" class="portfolio-details container">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="portfolio-info shadow-sm mb-3">
                                    <h5>Room Information</h5>
                                    <hr>
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="room-update-reservation-id">Reservation ID</label>
                                                <input type="text" id="room-update-reservation-id" class="form-control" readonly>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="room-update-checkout-room-name">Room Name</label>
                                                <input type="text" id="room-update-checkout-room-name" class="form-control" readonly>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-12">
                                <div class="portfolio-info shadow-sm mb-3">
                                    <h5>Account Information</h5>
                                    <hr>
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="form-group">
                                                <label for="room-update-checkout-name">Full Name</label>
                                                <input type="text" id="room-update-checkout-name" class="form-control" readonly>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="room-update-checkout-phone">Phone Number</label>
                                                <input type="tel" id="room-update-checkout-phone" class="form-control" readonly>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="room-update-checkout-email">Email</label>
                                                <input type="email" id="room-update-checkout-email" class="form-control" readonly>
                                            </div>
                                        </div>
                                        <div class="col-lg-12">
                                            <div class="form-group">
                                                <label for="room-update-checkout-address">Address</label>
                                                <textarea id="room-update-checkout-address" class="form-control" rows="2" readonly></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-12">
                                <div class="portfolio-info shadow-sm mb-3">
                                    <h5>Schedule Information</h5>
                                    <hr>
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="room-update-checkin-date">Check In Date</label>
                                                <input type="date" id="room-update-checkin-date" class="form-control compute-price">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="room-update-checkin-datetime">Check In Time</label>
                                                <select class="form-control" id="room-update-checkin-time">
                                                    <option value="08:00">8:00 AM</option>
                                                        <option value="08:30:00">8:30 AM</option>
                                                        <option value="09:00:00">9:00 AM</option>
                                                        <option value="09:30:00">9:30 AM</option>
                                                        <option value="10:00:00">10:00 AM</option>
                                                        <option value="10:30:00">10:30 AM</option>
                                                        <option value="11:00:00">11:00 AM</option>
                                                        <option value="11:30:00">11:30 AM</option>
                                                        <option value="12:00:00">12:00 PM</option>
                                                        <option value="12:30:00">12:30 PM</option>
                                                        <option value="13:00:00">1:00 PM</option>
                                                        <option value="13:30:00">1:30 PM</option>
                                                        <option value="14:00:00">2:00 PM</option>
                                                        <option value="14:30:00">2:30 PM</option>
                                                        <option value="15:00:00">3:00 PM</option>
                                                        <option value="15:30:00">3:30 PM</option>
                                                        <option value="16:00:00">4:00 PM</option>
                                                        <option value="16:30:00">4:30 PM</option>
                                                        <option value="17:00:00">5:00 PM</option>
                                                        <option value="17:30:00">5:30 PM</option>
                                                        <option value="18:00:00">6:00 PM</option>
                                                        <option value="18:30:00">6:30 PM</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="room-update-checkout-date">Check Out Date</label>
                                                <input type="date" id="room-update-checkout-date" class="form-control compute-price">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <div class="form-group">
                                                <label for="room-update-checkout-time">Check Out Time</label>
                                                <select class="form-control" id="room-update-checkout-time">
                                                    <option value="08:00">8:00 AM</option>
                                                        <option value="08:30:00">8:30 AM</option>
                                                        <option value="09:00:00">9:00 AM</option>
                                                        <option value="09:30:00">9:30 AM</option>
                                                        <option value="10:00:00">10:00 AM</option>
                                                        <option value="10:30:00">10:30 AM</option>
                                                        <option value="11:00:00">11:00 AM</option>
                                                        <option value="11:30:00">11:30 AM</option>
                                                        <option value="12:00:00">12:00 PM</option>
                                                        <option value="12:30:00">12:30 PM</option>
                                                        <option value="13:00:00">1:00 PM</option>
                                                        <option value="13:30:00">1:30 PM</option>
                                                        <option value="14:00:00">2:00 PM</option>
                                                        <option value="14:30:00">2:30 PM</option>
                                                        <option value="15:00:00">3:00 PM</option>
                                                        <option value="15:30:00">3:30 PM</option>
                                                        <option value="16:00:00">4:00 PM</option>
                                                        <option value="16:30:00">4:30 PM</option>
                                                        <option value="17:00:00">5:00 PM</option>
                                                        <option value="17:30:00">5:30 PM</option>
                                                        <option value="18:00:00">6:00 PM</option>
                                                        <option value="18:30:00">6:30 PM</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-12">
                                <div class="portfolio-info shadow-sm mb-3">
                                    <h5>Additional</h5>
                                    <hr>
                                    <div class="row">
                                        <div class="my-3">
                                            <p class="fw-bold">Guest:</p>
                                            <div class="row form-group">
                                                <div class="col-lg-6">
                                                    <div class="input-group">
                                                        <span class="input-group-text" id="basic-addon1">Children</span>
                                                        <input type="number" oninput="disableMinusSign(this)" class="form-control additional-guest compute-price" id="additional-guest-children" placeholder="No. of pax" aria-label="Username" aria-describedby="basic-addon1" min="0">
                                                    </div>
                                                </div>
                                                <div class="col-lg-6">
                                                    <div class="input-group">
                                                        <span class="input-group-text" id="basic-addon1">Adult</span>
                                                        <input oninput="disableMinusSign(this)" min="0" type="number" oninput="disableMinusSign(this)" class="form-control additional-guest compute-price" placeholder="No. of pax" id="additional-guest-adult" aria-label="Username" aria-describedby="basic-addon1"
                                                            min="0">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="my-3">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <label class="form-label">Breakfast</label>
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <div class="input-group">
                                                                <span class="input-group-text">Qty</span>
                                                                <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-food-breakfast" placeholder="No. of pax" aria-label="Amount (to the nearest dollar)">
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="input-group">
                                                                <span class="input-group-text">Serving/s</span>
                                                                <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-food-breakfast-serving" placeholder="No. of servings" aria-label="Amount (to the nearest dollar)">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-lg-12">
                                                    <label class="form-label">Lunch</label>
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <div class="input-group">
                                                                <span class="input-group-text">Qty</span>
                                                                <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-food-lunch" placeholder="No. of pax" aria-label="Amount (to the nearest dollar)">
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="input-group">
                                                                <span class="input-group-text">Serving/s</span>
                                                                <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-food-lunch-serving" placeholder="No. of servings" aria-label="Amount (to the nearest dollar)">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-lg-12">
                                                    <label class="form-label">Snack</label>
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <div class="input-group">
                                                                <span class="input-group-text">Qty</span>
                                                                <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-food-snack" placeholder="No. of pax" aria-label="Amount (to the nearest dollar)">
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="input-group">
                                                                <span class="input-group-text">Serving/s</span>
                                                                <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-food-snack-serving" placeholder="No. of servings" aria-label="Amount (to the nearest dollar)">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-lg-12">
                                                    <label class="form-label">Dinner</label>
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <div class="input-group">
                                                                <span class="input-group-text">Qty</span>
                                                                <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-food-dinner" placeholder="No. of pax" aria-label="Amount (to the nearest dollar)">
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="input-group">
                                                                <span class="input-group-text">Serving/s</span>
                                                                <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-food-dinner-serving" placeholder="No. of servings" aria-label="Amount (to the nearest dollar)">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-lg-12">
                                                    <div class="form-group">
                                                        <label class="form-label">Special Instruction</label>
                                                        <textarea class="form-control" placeholder="Enter Special Instruction here" aria-label="With textarea" id="additional-food-special-instruction"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="my-3">
                                            <p class="fw-bold">Extra Items:</p>
                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <div class="input-group mb-4">
                                                        <span class="input-group-text">Towel</span>
                                                        <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-item-towel" placeholder="Quantity" aria-label="Amount (to the nearest dollar)">
                                                        <!-- <span class="input-group-text "><span class="price-towel"></span> PHP</span> -->
                                                    </div>
                                                </div>

                                                <div class="col-lg-6">
                                                    <div class="col-12">
                                                        <div class="input-group mb-2">
                                                            <span class="input-group-text">Pillow</span>
                                                            <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-item-pillow" placeholder="Quantity" aria-label="Amount (to the nearest dollar)">
                                                            <!-- <span class="input-group-text"><span class=" price-pillow"></span> PHP</span> -->
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-lg-6">
                                                    <div class="input-group mb-4">
                                                        <span class="input-group-text">Blanket</span>
                                                        <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-item-blanket" placeholder="Quantity" aria-label="Amount (to the nearest dollar)">
                                                        <!-- <span class="input-group-text"><span class=" price-blanket"></span> PHP</span> -->
                                                    </div>
                                                </div>
                                                <div class="col-lg-6">
                                                    <div class="input-group mb-2">
                                                        <span class="input-group-text">Extra Bed</span>
                                                        <input min="0" oninput="disableMinusSign(this)" type="number" class="form-control compute-price" id="additional-item-bed" placeholder="Quantity" aria-label="Amount (to the nearest dollar)">
                                                        <!-- <span class="input-group-text"><span class=" price-bed"></span> PHP</span> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6">
                                <div class="portfolio-info shadow-sm mb-3">
                                    <h5>Receipt</h5>
                                    <hr>
                                    <a href="" target="_blank" rel="noopener noreferrer" id="modal-update-receipt-box-link">
                                        <img src="" alt="" srcset="" id="modal-update-receipt-box-image" style="width: 100%;">
                                    </a>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="portfolio-info shadow-sm mb-3">
                                            <h3>Total</h3>
                                            <div class="form-group">
                                                <input type="text" id="room-update-checkout-total-amount" class="form-control">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="portfolio-info">
                                            <h3>Status</h3>
                                            <div class="form-group">
                                                <select id="room-update-room-checkout-status" class="form-control">
                                                    <!-- Populate options dynamically or define them statically -->
                                                </select>
                                            </div>
                                            <div class="form-group d-none container-additional-information">
                                                <label for="form-label">Additional Information Request</label>
                                                <textarea type="text" class="form-control" id="additionalInformationRequest" readonly></textarea>
                                            </div>
                                            <div class="form-group d-none container-cancellation">
                                                <label for="form-label">Reason for Cancellation</label>
                                                <textarea type="text" class="form-control" id="reasonForCancellation" readonly></textarea>

                                            </div>
                                            <div class="form-group d-none container-cancellation">
                                                <label for="form-label">Refund</label>
                                                <img src="" id="refundImage" class="img-src" style="width: 100%;" alt="" srcset="">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Update <i class="fa fa-pencil"></i></button>
                </div>
            </form>

        </div>
    </div>
</div>


<div class="modal fade" id="modal-view-room-reservation" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title fs-5">Account Detail</h3>
                <button type="button" class="btn-close btn btn-default" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="modal-body-room">

            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-view-receipt" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title fs-5">Payment Receipt</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <img src="" id="receipt-image" class="img-fluid" alt="Responsive image">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-account-room-reservation" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title fs-5">Account Detail</h3>
                <button type="button" class="btn-close btn btn-default" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="modal-body-login">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="mb-3">
                                <label for="modal-account-id" class="form-label">Account ID</label>
                                <input type="text" class="form-control" id="modal-account-id" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-4">
                            <div class="mb-3">
                                <label for="modal-account-first-name" class="form-label">First Name</label>
                                <input type="text" class="form-control" id="modal-account-first-name" readonly>
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="mb-3">
                                <label for="modal-account-middle-name" class="form-label">Middle Name</label>
                                <input type="text" class="form-control" id="modal-account-middle-name" readonly>
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="mb-3">
                                <label for="modal-account-last-name" class="form-label">Last Name</label>
                                <input type="text" class="form-control" id="modal-account-last-name" readonly>
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-lg-6">
                            <div class="mb-3">
                                <label for="modal-account-email" class="form-label">Email</label>
                                <input type="text" class="form-control" id="modal-account-email" readonly>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="mb-3">
                                <label for="modal-account-phone" class="form-label">Phone</label>
                                <input type="text" class="form-control" id="modal-account-phone" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-4">
                            <div class="mb-3">
                                <label for="modal-account-provice" class="form-label">Province</label>
                                <input type="text" class="form-control" id="modal-account-province" readonly>
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="mb-3">
                                <label for="modal-account-municipality" class="form-label">Municipality</label>
                                <input type="text" class="form-control" id="modal-account-municipality" readonly>
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="mb-3">
                                <label for="modal-account-barangay" class="form-label">Barangay</label>
                                <input type="text" class="form-control" id="modal-account-barangay" readonly>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="cancelRefundModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Cancellation and Refund Request</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form id="form-cancel-reservation">
                <div class="modal-body">
                    <!-- Form for cancellation and refund information -->
                    <div class="mb-3">
                        <label for="reasonForCancellation" class="form-label">Reason for Cancellation:</label>
                        <textarea type="text" class="form-control" id="input-reason-for-cancellation" placeholder="Enter reason"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="refundReceiptImage" class="form-label">Refund Receipt Image:</label>
                        <input type="file" class="form-control" id="input-refund" accept="image/*">
                    </div>
                    <div class="mb-3">
                        <img src="" id="input-refund-image" class="img-fluid" style="width: 100%;" alt="" srcset="">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Add</button>
                </div>
            </form>
        </div>
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="additionalInfoModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Additional Information</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form id="form-additional-info">
                <div class="modal-body">
                    <!-- Form for entering additional information -->
                    <div class="mb-3">
                        <label for="additionalInfo" class="form-label">Additional Information:</label>
                        <textarea class="form-control" id="input-additional-input" rows="4" required></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Add</button>
                </div>
            </form>
        </div>
    </div>
</div>


<script>
    var ROOM_PRICE = 0;
    $(document).ready(function() {
        retrieveRoomList();

        function populateQueryParam(queryParams, id, value) {
            return queryParams += id + "=" + value + "&";
        }

        function retrieveRoomList() {
            $.ajax({
                url: adminRequest(GET_ROOM_URL + GET_ALL_ROOM_RESERVATION_LIST),
                type: GET,
                cache: false,
                success: function(dataResult) {
                    var dataResult = JSON.parse(dataResult);
                    room_reservation_list = dataResult;
                    var reservationRow = "";
                    if (dataResult.statusCode == 200) {
                        dataResult.reservationList.forEach(reservation => {
                            var status = populateReservationStatus(reservation.status, reservation.reservationID);

                            var queryParams = "";
                            queryParams = populateQueryParam(queryParams, "id", reservation.reservationID);
                            queryParams = populateQueryParam(queryParams, "room-name", reservation.roomInformation.roomCategoryName);
                            queryParams = populateQueryParam(queryParams, "room-number", reservation.roomInformation.name);
                            queryParams = populateQueryParam(queryParams, "checkinDate", reservation.checkinDate);
                            queryParams = populateQueryParam(queryParams, "checkinTime", formatTime(reservation.checkinTime));
                            queryParams = populateQueryParam(queryParams, "checkoutDate", reservation.checkoutDate);
                            queryParams = populateQueryParam(queryParams, "checkoutTime", formatTime(reservation.checkoutTime));
                            queryParams = populateQueryParam(queryParams, "total", reservation.price);
                            queryParams = populateQueryParam(queryParams, "status", getReservationStatus(reservation.status, reservation.reservationID));
                            queryParams = populateQueryParam(queryParams, "firstname", reservation.accountInformation.firstName);
                            queryParams = populateQueryParam(queryParams, "middlename", reservation.accountInformation.middleName);
                            queryParams = populateQueryParam(queryParams, "lastname", reservation.accountInformation.lastName);
                            queryParams = populateQueryParam(queryParams, "email", reservation.accountInformation.email);
                            queryParams = populateQueryParam(queryParams, "phone", reservation.accountInformation.phone);
                            queryParams = populateQueryParam(queryParams, "barangay", reservation.accountInformation.barangay);
                            queryParams = populateQueryParam(queryParams, "municipality", reservation.accountInformation.municipality);
                            queryParams = populateQueryParam(queryParams, "province", reservation.accountInformation.province);
                            queryParams = populateQueryParam(queryParams, "roomPrice", reservation.roomInformation.price);

                            if (reservation.additionalAdult != 0) {
                                queryParams = populateQueryParam(queryParams, "additional-adult-pax", reservation.additionalAdult);
                            }

                            if (reservation.additionalChildren != 0) {
                                queryParams = populateQueryParam(queryParams, "additional-children-pax", reservation.additionalChildren);
                            }

                            if (reservation.additionalBreakFast != 0) {
                                queryParams = populateQueryParam(queryParams, "additional-breakfast-pax", reservation.additionalBreakFast);
                                queryParams = populateQueryParam(queryParams, "additional-breakfast-serving", reservation.additionalBreakFastServing);
                            }

                            if (reservation.additionalLunch != 0) {
                                queryParams = populateQueryParam(queryParams, "additional-lunch-pax", reservation.additionalLunch);
                                queryParams = populateQueryParam(queryParams, "additional-lunch-serving", reservation.additionalLunchServing);
                            }

                            if (reservation.additionalSnack != 0) {
                                queryParams = populateQueryParam(queryParams, "additional-snack-pax", reservation.additionalSnack);
                                queryParams = populateQueryParam(queryParams, "additional-snack-serving", reservation.additionalSnackServing);
                            }

                            if (reservation.additionalDinner != 0) {
                                queryParams = populateQueryParam(queryParams, "additional-dinner-pax", reservation.additionalDinner);
                                queryParams = populateQueryParam(queryParams, "additional-dinner-serving", reservation.additionalDinnerServing);
                            }

                            if (reservation.additionalFoodInstruction != '') {
                                queryParams = populateQueryParam(queryParams, "food-instruction", reservation.additionalFoodInstruction);
                            }

                            if (reservation.additionalTowel != 0 || reservation.additionalTowel != undefined) {
                                queryParams = populateQueryParam(queryParams, "additional-towel-qty", reservation.additionalTowel);
                            }

                            if (reservation.additionalPillow != 0) {
                                queryParams = populateQueryParam(queryParams, "additional-pillow-qty", reservation.additionalPillow);
                            }

                            if (reservation.additionalBed != 0) {
                                queryParams = populateQueryParam(queryParams, "additional-bed-qty", reservation.additionalBed);
                            }

                            if (reservation.additionalBlanket != 0) {
                                queryParams = populateQueryParam(queryParams, "additional-blanket-qty", reservation.additionalBlanket);
                            }

                            queryParams = populateQueryParam(queryParams, "total-amount", reservation.totalAmount);

                            console.log("query params -> " + queryParams);

                            reservationRow += `<tr>
								<td>${reservation.reservationID}</td>
								<td>${reservation.roomInformation.roomCategoryName} - ${reservation.roomInformation.name}</td>
								<td>
									<strong>Checkin:</strong>
									</br>
									${reservation.checkinDate} ${formatTime(reservation.checkinTime)}
									</br>
									</br>
									<strong>Checkout:</strong>	
									</br>
									${reservation.checkoutDate} ${formatTime(reservation.checkoutTime)}
								</td>
								<td><a href="" class="account_data" data-id="${reservation.reservationID}">${reservation.accountInformation.firstName} ${reservation.accountInformation.middleName} ${reservation.accountInformation.lastName}</a></td>
								<td>
									<strong>Email:</strong>
									</br>
									${reservation.accountInformation.email}
									</br>
									</br>
									<strong>Phone:</strong>	
									</br>
									${reservation.accountInformation.phone} 	
								</td>
								<td class="text-center">${status}</td>
								
								<td><button type="button" class="btn btn-flat btn-default btn-sm dropdown-toggle dropdown-icon" data-toggle="dropdown">
				                  		Action
				                    <span class="sr-only">Toggle Dropdown</span>
				                  </button>
				                  <div class="dropdown-menu" role="menu">
                                    <a class="dropdown-item view_data" href="javascript:void(0)" data-id="${reservation.reservationID}"><span class="fa fa-eye text-primary"></span> View</a>
				                    <div class="dropdown-divider"></div>
				                    <a class="dropdown-item edit_data" href="javascript:void(0)" data-id="${reservation.reservationID}"><span class="fa fa-edit text-primary"></span> Edit</a>
				                    <div class="dropdown-divider"></div>
				                    <a class="dropdown-item delete_data" href="javascript:void(0)" data-id="${reservation.reservationID}"><span class="fa fa-trash text-danger"></span> Delete</a>
				                    <div class="dropdown-divider"></div>
				                    <a class="dropdown-item print_data" href="./room/print.html?${queryParams}" target="_blank" data-id="${reservation.reservationID}"><span class="fa fa-print text-info"></span> Print</a>
				                  </div></td>
							</tr>`;
                        });
                    }

                    $(".table").DataTable().destroy();
                    $("#table-body").html(reservationRow);
                    var table = $(".table").DataTable();
                    table.draw();
                    $("#table-body").html(reservationRow);

                    $(".button-reservation-detail").on('click', function() {

                    });
                },
                beforeSend: function() {
                    console.log('Request is about to be sent.');
                },
                error: function(jqXHR, textStatus, errorThrown) {
                    // Code to be executed if the request fails
                    console.log('Request failed: ' + textStatus, errorThrown);
                },
                complete: function() {
                    // Code to be executed after the request completes, regardless of success or failure
                    console.log('Request completed.');
                }
            });
        }

        function computeTotalPrice() {
            var checkinDate = $("#room-update-checkin-date").val();
            var checkoutDate = $("#room-update-checkout-date").val();
            var additionalGuestChildren = parseInt($("#additional-guest-children").val()) || 0;
            var additionalGuestAdult = parseInt($("#additional-guest-adult").val()) || 0;
            var additionalFoodBreakfast = parseInt($("#additional-food-breakfast").val()) || 0;
            var additionalFoodBreakfastServing = parseInt($("#additional-food-breakfast-serving").val()) || 0;
            var additionalFoodLunch = parseInt($("#additional-food-lunch").val()) || 0;
            var additionalFoodLunchServing = parseInt($("#additional-food-lunch-serving").val()) || 0;
            var additionalFoodSnack = parseInt($("#additional-food-snack").val()) || 0;
            var additionalFoodSnackServing = parseInt($("#additional-food-snack-serving").val()) || 0;
            var additionalFoodDinner = parseInt($("#additional-food-dinner").val()) || 0;
            var additionalFoodDinnerServing = parseInt($("#additional-food-dinner-serving").val()) || 0;
            var additionalItemTowel = parseInt($("#additional-item-towel").val()) || 0;
            var additionalItemPillow = parseInt($("#additional-item-pillow").val()) || 0;
            var additionalItemBlanket = parseInt($("#additional-item-blanket").val()) || 0;
            var additionalItemBed = parseInt($("#additional-item-bed").val()) || 0;

            totalDays = getDateDifference(checkinDate, checkoutDate);

            var totalRoomPice = totalDays * ROOM_PRICE;

            var totalAdditionalGuestPrice = ((additionalGuestAdult * ADULT_PRICE) * totalDays) +
                ((additionalGuestChildren * CHILDREN_PRICE) * totalDays);

            console.log("total guest: " + totalAdditionalGuestPrice);

            var totalFoodPrice = ((additionalFoodBreakfast * additionalFoodBreakfastServing) * BREAKFAST_PRICE) +
                ((additionalFoodLunch * additionalFoodLunchServing) * LUNCH_PRICE) +
                ((additionalFoodSnack * additionalFoodSnackServing) * SNACK_PRICE) +
                ((additionalFoodDinner * additionalFoodDinnerServing) * DINNER_PRICE)

            console.log("total food: " + totalFoodPrice);

            var totalItemPrice =
                ((additionalItemTowel * TOWEL_PRICE) * totalDays) +
                ((additionalItemPillow * PILLOW_PRICE) * totalDays) +
                ((additionalItemBlanket * BLANKET_PRICE) * totalDays) +
                ((additionalItemBed * BED_PRICE) * totalDays);

            console.log("total item: " + totalItemPrice);
            console.log("total day: " + totalDays);

            var totalPrice = totalRoomPice + totalAdditionalGuestPrice + totalFoodPrice + totalItemPrice;
            $("#room-update-checkout-total-amount").val(totalPrice);
        }
        $(".compute-price").on("change", function() {
            computeTotalPrice();
        });

        function sendEmail(email, title, body, status) {
            $.ajax({
                url: adminRequest(MAILER_URL),
                type: POST,
                data: {
                    action: 'send-email',
                    email: email,
                    subject: title,
                    body: body
                },
                cache: false,
                success: function(dataResult) {
                    // location.reload();
                    alert_toast("Email has been sent to customer!", 'success')
                        // toastr.success('Email has been sent to customer!', 'Success');
                },
                beforeSend: function() {
                    Swal.fire(
                        'Update!',
                        'Reservation Status has been changed to ' + getReservationStatus(status),
                        'success'
                    )
                    $("#modal-update-room-reservation").modal("hide");
                    console.log('Request is about to be sent.');
                    retrieveRoomList();
                },
                error: function(jqXHR, textStatus, errorThrown) {
                    // Code to be executed if the request fails
                    alert_toast("Unable to send email to customer. Please try to update status again.", 'Error')
                        // toastr.error(`Unable to send email to customer. Please try to update status again. Error: ${error}`, 'Error');
                    console.log('Request failed: ' + textStatus, errorThrown);
                },
                complete: function() {
                    // Code to be executed after the request completes, regardless of success or failure
                    console.log('Request completed.');
                }
            });
        }

        var previousValue;
        var refundFile;
        var imageElement;
        $('#room-update-room-checkout-status').on('focus', function() {
            previousValue = $(this).val();
        });

        $("#input-refund").on("change", function() {
            refundFile = this.files[0];
            if (refundFile && refundFile.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    imageElement = e.target.result;
                    $('#input-refund-image').attr('src', e.target.result);
                };
                reader.readAsDataURL(refundFile);
            } else {
                // Clear the file input and display an error message
                $(this).val('');
                $('#input-refund-image').attr('src', '');
                alert('Please select a valid image file.');
            }
        });

        $("#room-update-room-checkout-status").on("change", function() {
            if ($(this).val() == 5) {
                $("#additionalInfoModal").modal("show");
                $(this).val(previousValue);
            } else if ($(this).val() == 7) {
                $("#cancelRefundModal").modal("show");
                $(this).val(previousValue);
            } else {
                $(".container-cancellation").addClass("d-none");
                $(".container-additional-information").addClass("d-none");
            }
        });

        $("#form-additional-info").on("submit", function() {
            event.preventDefault();
            $("#additionalInformationRequest").val($("#input-additional-input").val());
            $("#room-update-room-checkout-status").val(5);
            $("#additionalInfoModal").modal("hide");
            $(".container-additional-information").removeClass("d-none");
        });

        $("#form-cancel-reservation").on("submit", function() {
            event.preventDefault();
            $("#reasonForCancellation").val($("#input-reason-for-cancellation").val());
            $("#refundImage").attr('src', imageElement);
            $("#room-update-room-checkout-status").val(7);
            $("#cancelRefundModal").modal("hide");
            $(".container-cancellation").removeClass("d-none");
        });

        $("#form-edit-reservation").on("submit", function(event) {
            event.preventDefault();
            var formData = new FormData();
            var status = $("#room-update-room-checkout-status").val();
            // Gather form data
            formData.append("id", $("#room-update-reservation-id").val());
            formData.append("status", $("#room-update-room-checkout-status").val());
            formData.append("name", $("#room-update-checkout-name").val());
            formData.append("address", $("#room-update-checkout-address").val());
            formData.append("phone", $("#room-update-checkout-phone").val());
            formData.append("email", $("#room-update-checkout-email").val());
            formData.append("checkinDate", $("#room-update-checkin-date").val());
            formData.append("checkinTime", $("#room-update-checkin-time").val());
            formData.append("checkoutDate", $("#room-update-checkout-date").val());
            formData.append("checkoutTime", $("#room-update-checkout-time").val());
            formData.append("additionalGuestChildren", $("#additional-guest-children").val());
            formData.append("additionalGuestAdult", $("#additional-guest-adult").val());
            formData.append("additionalFoodBreakfast", $("#additional-food-breakfast").val());
            formData.append("additionalFoodBreakfastServing", $("#additional-food-breakfast-serving").val());
            formData.append("additionalFoodLunch", $("#additional-food-lunch").val());
            formData.append("additionalFoodLunchServing", $("#additional-food-lunch-serving").val());
            formData.append("additionalFoodSnack", $("#additional-food-snack").val());
            formData.append("additionalFoodSnackServing", $("#additional-food-snack-serving").val());
            formData.append("additionalFoodDinner", $("#additional-food-dinner").val());
            formData.append("additionalFoodDinnerServing", $("#additional-food-dinner-serving").val());
            formData.append("additionalFoodSpecialInstruction", $("#additional-food-special-instruction").val());
            formData.append("additionalItemTowel", $("#additional-item-towel").val());
            formData.append("additionalItemPillow", $("#additional-item-pillow").val());
            formData.append("additionalItemBlanket", $("#additional-item-blanket").val());
            formData.append("additionalItemBed", $("#additional-item-bed").val());
            formData.append("total_price", $("#room-update-checkout-total-amount").val());
            formData.append("additional_info", $("#additionalInformationRequest").val());
            formData.append("reasonForCancellation", $("#reasonForCancellation").val());

            // Append file input with desired name
            var refundFile = $("#input-refund")[0].files[0];
            formData.append("refund", refundFile);

            formData.append("action", "update-room-reservation");

            Swal.fire({
                title: 'Updating...',
                allowOutsideClick: false,
                onBeforeOpen: () => {
                    Swal.showLoading();
                }
            });

            // Send data using AJAX
            $.ajax({
                type: "POST",
                url: adminRequest(ROOM_URL), // Replace with your actual backend endpoint
                data: formData,
                contentType: false, // Set content type to false
                processData: false, // Don't process the data
                success: function(response) {
                    Swal.close();
                    // Handle the success response
                    console.log("Data sent successfully:", response);
                    var dataResult = JSON.parse(response);
                    var requestor = $("#room-update-checkout-name").val();
                    var name = $("#room-update-checkout-room-name").val();
                    var date = $("#room-update-checkin-date").val();
                    var time = $("#room-update-checkin-time").val();
                    var message = "Please provide more clear picture.";
                    var gcashName = "CE**O L.";
                    var gcashNumber = "09156428096";
                    var phone = "(63) 95131 73124";
                    var message = "Please provide more clear picture.";
                    var gcashName = "CE**O L.";
                    var gcashNumber = "09156428096";
                    var email = $("#room-update-checkout-email").val();
                    var gcashQR = "https://pbrc.pcbics.net/web/resources/images/7861701217182.jpg";

                    if (status == "1") {
                        title = "Reservation Request Received";
                        body = populatePendingStatusEmailBody(requestor, name, phone, date, time);
                    } else if (status == "2") {
                        title = "Reservation Approval and Payment Instructions";
                        body = populateApprovedStatusEmailBody(requestor, name, date, time, gcashNumber, gcashName, gcashQR);
                    } else if (status == "3") {
                        title = "Reservation Rejected";
                        body = populateRejectedStatusEmailBody(requestor, name, date, time, gcashNumber, gcashName, gcashQR);
                    } else if (status == "4") {
                        title = "Payment Receipt Received - Under Review";
                        body = populateReviewStatusEmailBody(requestor, name, phone, date, time)
                    } else if (status == "5") {
                        title = "Payment Receipt Not Approved - Resubmission Required";
                        body = populatePendingAdditionalInformationStatusEmailBody(requestor, name, phone, date, time, message, gcashNumber, gcashName, gcashQR)
                    } else if (status == "6") {
                        title = "Reservation Confirmed";
                        body = populateConfirmedStatusEmailBody(requestor, name, phone, date, time)
                    } else if (status == "7") {
                        title = "Reservation Cancelled";
                        console.log(response);
                        body = populateCancelledStatusEmailBody(requestor, dataResult.reasonForCancellation, dataResult.fileName);
                    } else if (status == "8") {
                        title = "Thank You for Choosing PBRC";
                        body = populateDoneStatusEmailBody(requestor);
                    }

                    sendEmail(email, title, body, status);

                    // You can add further logic here based on the response
                },
                error: function(error) {
                    Swal.close();
                    // Handle the error
                    console.error("Error sending data:", error);
                    Swal.fire({
                        icon: 'error',
                        title: 'Error!',
                        text: 'An error occurred while updating the room reservation.',
                    });
                    // You can add further error handling logic here
                }
            });
        });

        // updateReservationStatus(id, status, "Updated!", "Reservation status has been updated.");

        function updateReservationStatus(id, status, title, message) {
            $.ajax({
                url: adminRequest(ROOM_URL),
                type: POST,
                data: {
                    action: 'update-room-status',
                    id: id,
                    status: status
                },
                cache: false,
                success: function(dataResult) {
                    var dataResult = JSON.parse(dataResult);
                    if (dataResult.statusCode == 200) {
                        Swal.fire(
                            title,
                            message,
                            'success'
                        )
                    } else {
                        Swal.fire(
                            'Error!',
                            'Something went wrong, please try again later.',
                            'warning'
                        )
                    }
                    retrieveRoomList();
                },
                beforeSend: function() {
                    console.log('Request is about to be sent.');
                },
                error: function(jqXHR, textStatus, errorThrown) {
                    // Code to be executed if the request fails
                    console.log('Request failed: ' + textStatus, errorThrown);
                },
                complete: function() {
                    // Code to be executed after the request completes, regardless of success or failure
                    console.log('Request completed.');
                }
            });
        }

        $("#table-room-reservation").on("click", ".view_receipt", function(event) {
            event.preventDefault();
            var id = $(this).data("id");
            room_reservation_list.reservationList.forEach(reservation => {
                console.log(id + " - " + reservation.reservationID);
                if (id == reservation.reservationID) {
                    $("#receipt-image").attr("src", `./../../../${reservation['receipt']}`);
                }
            });
            $("#modal-view-receipt").modal("show");
        });

        $("#table-room-reservation").on("click", ".view_data", function() {
            var id = $(this).data("id");
            room_reservation_list.reservationList.forEach(reservation => {
                if (reservation.reservationID == id) {
                    $("#room-checkout-name").html(reservation.accountInformation.firstName + " " + reservation.accountInformation.middleName + " " + reservation.accountInformation.lastName);
                    $("#room-checkout-address").html(reservation.accountInformation.barangay + " " + reservation.accountInformation.municipality + " " + reservation.accountInformation.province);
                    $("#room-checkout-phone").html(reservation.accountInformation.phone);
                    $("#room-checkout-email").html(reservation.accountInformation.email);
                    $("#room-reservation-id").html(reservation.reservationID);

                    $("#room-checkout-room-name").html(reservation.roomInformation.roomCategoryName + " - " + reservation.roomInformation.name);

                    $("#room-checkin-datetime").html(reservation.checkinDate + " - " + formatTime(reservation.checkinTime));
                    $("#room-checkout-datetime").html(reservation.checkoutDate + " - " + formatTime(reservation.checkoutTime));

                    var additionalGuest = ``;

                    if (reservation.additionalAdult != 0) {
                        additionalGuest += populateAdditionalRow("Adult", reservation.additionalAdult, PAX);
                    }

                    if (reservation.additionalChildren != 0) {
                        additionalGuest += populateAdditionalRow("Children", reservation.additionalChildren, PAX);
                    }

                    if (additionalGuest == '') {
                        additionalGuest = "None";
                    }

                    $("#room-checkout-room-additional-guest").html(populateOrderedList(additionalGuest));

                    var additionalFood = ``;

                    if (reservation.additionalBreakFast != 0) {
                        additionalFood += populateAdditionalFoodRow("Breakfast", reservation.additionalBreakFast, reservation.additionalBreakFastServing);
                    }

                    if (reservation.additionalLunch != 0) {
                        additionalFood += populateAdditionalFoodRow("Lunch", reservation.additionalLunch, reservation.additionalLunchServing);
                    }

                    if (reservation.additionalSnack != 0) {
                        additionalFood += populateAdditionalFoodRow("Snack", reservation.additionalSnack, reservation.additionalSnackServing);
                    }

                    if (reservation.additionalDinner != 0) {
                        additionalFood += populateAdditionalFoodRow("Dinner", reservation.additionalDinner, reservation.additionalDinnerServing);
                    }

                    if (reservation.additionalFoodInstruction != '') {
                        additionalFood += `<li class="list-group-item d-flex justify-content-between align-items-start">
                                                <div class="ms-2 me-auto">
                                                    <div class="fw-bold">Special Instruction</div>
                                                    ${reservation.additionalFoodInstruction}
                                                </div>
                                            </li>`;
                    }

                    if (additionalFood == '') {
                        additionalFood = "None";
                    }

                    $("#room-checkout-room-additional-food").html(populateOrderedList(additionalFood));

                    var additionalItem = ``;

                    if (reservation.additionalTowel != 0 || reservation.additionalTowel != undefined) {
                        additionalItem += populateAdditionalRow("Towel", reservation.additionalTowel, QUANTITY);
                    }

                    if (reservation.additionalPillow != 0) {
                        additionalItem += populateAdditionalRow("Pillow", reservation.additionalPillow, QUANTITY);
                    }

                    if (reservation.additionalBed != 0) {
                        additionalItem += populateAdditionalRow("Bed", reservation.additionalBed, QUANTITY);
                    }

                    if (reservation.additionalBlanket != 0) {
                        additionalItem += populateAdditionalRow("Blanket", reservation.additionalBlanket, QUANTITY);
                    }

                    if (additionalItem == '') {
                        additionalItem = "None";
                    }

                    $("#room-checkout-total-amount").html(formatMoney(reservation.totalAmount));

                    if (reservation['receipt'] != "" && reservation['receipt'] != undefined) {
                        $("#modal-view-receipt-box-image").attr("src", `./../../../${reservation['receipt']}`);
                        $("#modal-view-receipt-box-link").attr("href", `./../../../${reservation['receipt']}`);
                        $("#modal-view-receipt-box").removeClass("d-none");
                    } else {
                        $("#modal-view-receipt-box").addClass("d-none");
                    }


                    $("#room-checkout-room-additional-item").html(populateOrderedList(additionalItem));
                }
            });
            $("#modal-view-room-reservation").modal("show");
        });

        $("#table-room-reservation").on("click", ".edit_data", function() {
            var id = $(this).data("id");
            room_reservation_list.reservationList.forEach(reservation => {
                if (reservation.reservationID == id) {
                    // Populate Room Information
                    $("#room-update-reservation-id").val(reservation.reservationID);
                    $("#room-update-checkout-room-name").val(reservation.roomInformation.roomCategoryName + " - " + reservation.roomInformation.name);
                    ROOM_PRICE = reservation.roomInformation.price;

                    // Populate Account Information
                    $("#room-update-checkout-name").val(reservation.accountInformation.firstName + " " + reservation.accountInformation.middleName + " " + reservation.accountInformation.lastName);
                    $("#room-update-checkout-address").val(reservation.accountInformation.barangay + " " + reservation.accountInformation.municipality + " " + reservation.accountInformation.province);
                    $("#room-update-checkout-phone").val(reservation.accountInformation.phone);
                    $("#room-update-checkout-email").val(reservation.accountInformation.email);

                    // Populate Schedule Information
                    $("#room-update-checkin-date").val(reservation.checkinDate);
                    $("#room-update-checkin-time").val(reservation.checkinTime);

                    $("#room-update-checkout-date").val(reservation.checkoutDate);
                    $("#room-update-checkout-time").val(reservation.checkoutTime);

                    // Populate Additional Guest
                    $("#additional-guest-children").val(reservation.additionalChildren);
                    $("#additional-guest-adult").val(reservation.additionalAdult);

                    // Populate Additional Food
                    $("#additional-food-breakfast").val(reservation.additionalBreakFast);
                    $("#additional-food-breakfast-serving").val(reservation.additionalBreakFastServing);
                    $("#additional-food-lunch").val(reservation.additionalLunch);
                    $("#additional-food-lunch-serving").val(reservation.additionalLunchServing);
                    $("#additional-food-snack").val(reservation.additionalSnack);
                    $("#additional-food-snack-serving").val(reservation.additionalSnackServing);
                    $("#additional-food-dinner").val(reservation.additionalDinner);
                    $("#additional-food-dinner-serving").val(reservation.additionalDinnerServing);
                    $("#additional-food-special-instruction").val(reservation.additionalFoodInstruction);

                    // Populate Additional Item
                    $("#additional-item-towel").val(reservation.additionalTowel);
                    $("#additional-item-pillow").val(reservation.additionalPillow);
                    $("#additional-item-blanket").val(reservation.additionalBlanket);
                    $("#additional-item-bed").val(reservation.additionalBed);

                    // Populate Receipt
                    if (reservation['receipt'] != "" && reservation['receipt'] != undefined) {
                        $("#modal-update-receipt-box-image").attr("src", `./../../../${reservation['receipt']}`);
                        $("#modal-update-receipt-box-link").attr("href", `./../../../${reservation['receipt']}`);
                        $("#modal-update-receipt-box").removeClass("d-none");
                    } else {
                        $("#modal-update-receipt-box").addClass("d-none");
                    }

                    // Populate Total Amount and Status
                    $("#room-update-checkout-total-amount").val(reservation.totalAmount);
                    $("#room-update-room-checkout-status").html(getReservationDropdownValue(reservation.status));

                    if (reservation.status == 5) {
                        $(".container-additional-information").removeClass("d-none");
                        $("#additionalInformationRequest").val(reservation.additionalInfoRequest);
                    } else if (reservation.status == 7) {
                        $(".container-cancellation").removeClass("d-none");
                        $("#reasonForCancellation").val(reservation.reasonForCancellation);
                        $("#refundImage").attr("src", "./../../../web/resources/images/" + reservation.refund);
                    }
                }
            });

            $("#modal-update-room-reservation").modal("show");
        });

        $("#table-room-reservation").on("click", ".account_data", function(event) {
            event.preventDefault();
            var id = $(this).data("id");
            console.log(room_reservation_list);
            room_reservation_list.reservationList.forEach(reservation => {
                console.log(id + " - " + reservation.reservationID);
                if (id == reservation.reservationID) {
                    console.log("Service Reservation Found!");
                    $("#modal-account-id").val(reservation.accountInformation.id);
                    $("#modal-account-first-name").val(reservation.accountInformation.firstName);
                    $("#modal-account-middle-name").val(reservation.accountInformation.middleName);
                    $("#modal-account-last-name").val(reservation.accountInformation.lastName);
                    $("#modal-account-email").val(reservation.accountInformation.email);
                    $("#modal-account-phone").val(reservation.accountInformation.phone);
                    $("#modal-account-province").val(reservation.accountInformation.province);
                    $("#modal-account-municipality").val(reservation.accountInformation.municipality);
                    $("#modal-account-barangay").val(reservation.accountInformation.barangay);
                }
            });

            $("#modal-account-room-reservation").modal("show");
        });

        $("#table-room-reservation").on("click", ".delete_data", function() {
            var id = $(this).data("id");
            event.preventDefault();
            var id = $(this).data("id");
            Swal.fire({
                title: 'Are you sure?',
                text: "This room reservation will be archived!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes, archive it!'
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        url: adminRequest(ROOM_URL),
                        type: POST,
                        data: {
                            action: 'update-room-status',
                            id: id,
                            status: 0
                        },
                        cache: false,
                        success: function(dataResult) {
                            Swal.fire(
                                'Deleted!',
                                'Event has been deleted.',
                                'success'
                            )
                            retrieveRoomList();
                        },
                        beforeSend: function() {
                            console.log('Request is about to be sent.');
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                            // Code to be executed if the request fails
                            console.log('Request failed: ' + textStatus, errorThrown);
                        },
                        complete: function() {
                            // Code to be executed after the request completes, regardless of success or failure
                            console.log('Request completed.');
                        }
                    });
                }
            })
        });
    });
</script>